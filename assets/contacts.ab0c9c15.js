import{_ as I,r as h,u as T,a as R,b as r,o as i,c as m,d as l,w as x,e as s,F as U,f as F,t as w,h as z,g as E,U as S,i as O,p as j,j as A}from"./index.c1082520.js";import{u as V}from"./debounce.6286747d.js";import{D as N}from"./dateFormat.340f37ba.js";import{a as G}from"./api.135c5cdb.js";const M={name:"Contacts",components:{},props:{},setup(c){const o=h([]),u=h(!1),e=h(!1),p=h(!1),f=T();R(()=>{});const a=t=>{let _=isNaN(t)?t:"",D=isNaN(t)?"":t,b=new Date().getTime(),L={data:{name:_,phone_number:D},timestamp:b,sign:S.sisgn(b,S.sign())};O.post(G,L).then(k=>{k.data.code===200&&(o.value=k.data.data,e.value=!0)})},d=()=>{a()},v=(t,_)=>N.format(new Date(t),_),g=t=>N.getTime(t),y=()=>{e.value=!1,u.value=!0,o.value=[],a(),p.value=!1};let n=V("",800,t=>{a(t)});return{list:o,onLoad:d,loading:u,finished:e,onRefresh:y,refreshing:p,format:v,getTime:g,sendSms:t=>{let _=t.replace(/\s+/g,"");f.push(`/sms?number=${_}`)},keyword:n,useDebounced:V,getPageList:a}}},B=c=>(j("data-v-6914d384"),c=c(),A(),c),P={id:"contacts"},$={class:"contactsImgInfo"},q={class:"contactsinfo"},H={class:"contactsOtherBtn"},J={class:"contactsSms"},K=["href"],Q=B(()=>s("svg",{class:"icon call","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-dianhua1"})],-1)),W=[Q],X=["onClick"],Y=B(()=>s("use",{"xlink:href":"#icon-duanxin"},null,-1)),Z=[Y];function ee(c,o,u,e,p,f){const a=r("van-search"),d=r("van-image"),v=r("van-list"),g=r("van-empty"),y=r("van-pull-refresh");return i(),m("div",P,[l(a,{modelValue:e.keyword,"onUpdate:modelValue":o[0]||(o[0]=n=>e.keyword=n),placeholder:"\u641C\u7D22\u8054\u7CFB\u4EBA",shape:"round","clear-trigger":"always",lazy:""},null,8,["modelValue"]),l(y,{modelValue:e.refreshing,"onUpdate:modelValue":o[2]||(o[2]=n=>e.refreshing=n),onRefresh:e.onRefresh},{default:x(()=>[l(v,{loading:e.loading,"onUpdate:loading":o[1]||(o[1]=n=>e.loading=n),finished:e.finished,"finished-text":e.list.length>0?"\u6CA1\u6709\u66F4\u591A\u4E86":"",onLoad:e.onLoad},{default:x(()=>[s("ul",null,[(i(!0),m(U,null,F(e.list,(n,C)=>(i(),m("li",{class:"contactslist",key:C},[s("div",$,[l(d,{round:"",cover:"",width:"2.5rem",height:"2.5rem",src:`https://ui-avatars.com/api/?name=${n.name}&length=1&background=random&size=128&bold=true&color=ff0000`},null,8,["src"]),s("div",q,[s("span",null,w(n.name),1),s("p",null,w(n.phone_number),1)])]),s("div",H,[s("div",J,[s("a",{href:"tel:"+n.phone_number.replace(/\s+/g,"")},W,8,K),(i(),m("svg",{class:"icon sms","aria-hidden":"true",onClick:t=>e.sendSms(n.phone_number)},Z,8,X))])])]))),128))])]),_:1},8,["loading","finished","finished-text","onLoad"]),e.list.length<=0?(i(),z(g,{key:0,description:"\u6682\u65E0\u6570\u636E"})):E("",!0)]),_:1},8,["modelValue","onRefresh"])])}var ne=I(M,[["render",ee],["__scopeId","data-v-6914d384"]]);const te={name:"Contact",components:{Contacts:ne},setup(){return{}}},oe={id:"Contact"};function se(c,o,u,e,p,f){const a=r("van-nav-bar"),d=r("Contacts",!0);return i(),m("div",oe,[l(a,{title:"\u901A\u8BAF\u5F55"}),l(d)])}var le=I(te,[["render",se],["__scopeId","data-v-50ad3000"]]);export{le as default};
